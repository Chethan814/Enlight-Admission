<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Enlight Group of Institutions - Application Form</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script>
    (function () {
      emailjs.init("4DoV0lcBezt6RXB-N"); // Replace with your EmailJS public key
    })();
  </script>

  <style>
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: url('bgimage.jpeg') no-repeat center center fixed;
      background-size: cover;
      z-index: -1;
      opacity: 0.1;
      animation: bgZoom 30s ease-in-out infinite alternate;
    }

    @keyframes bgZoom {
      from {
        transform: scale(1);
      }

      to {
        transform: scale(1.05);
      }
    }
  </style>
</head>

<body class="bg-gradient-to-br from-white via-red-100 to-white py-10">
  <form id="applicationForm"
    class="max-w-5xl mx-auto bg-white p-8 rounded-2xl shadow-lg fade-in space-y-10 border border-red-300"
    enctype="multipart/form-data" onsubmit="return handleFormSubmit(event)">

    <!-- Header Section -->
    <div class="flex justify-between items-start">
      <div>
        <h2 class="text-4xl font-extrabold text-red-600">ENLIGHT GROUP OF INSTITUTIONS</h2>
        <p class="text-sm text-gray-700 mt-2">
          Recognised by the Govt. of Karnataka and Affiliated to KSNC, KSDNEB, Paramedical Board & INC New Delhi<br>
          Reg. Address: Pipe Line Road, Magadi Main Road, Vishwaneedam Post, Bangalore, Karnataka<br>
          82/17, Tavarekere Village, Bangalore South Taluk, Karnataka - 562130
        </p>
      </div>
      <div class="w-20 h-20 rounded-full bg-cover bg-center border-2 border-red-300 shadow-lg"
        style="background-image: url('bgimage.jpeg');"></div>
    </div>

    <!-- Student Information -->
    <section class="bg-white border border-red-200 rounded-lg p-6 shadow">
      <h3 class="text-xl font-bold text-red-600 mb-4">Student Information</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <input name="student_name" type="text" placeholder="Student Full Name*" class="border p-2 rounded w-full"
          required>
        <input name="dob" type="date" class="border p-2 rounded w-full" required>
        <input name="father_name" type="text" placeholder="Father's Name*" class="border p-2 rounded w-full" required>
        <input name="father_mobile" type="tel" placeholder="Father's Mobile*" class="border p-2 rounded w-full"
          required>
        <input name="mother_name" type="text" placeholder="Mother's Name" class="border p-2 rounded w-full">
        <input name="mother_mobile" type="tel" placeholder="Mother's Mobile" class="border p-2 rounded w-full">
        <input name="nationality" type="text" placeholder="Nationality*" class="border p-2 rounded w-full" required>
        <input name="caste" type="text" placeholder="Caste" class="border p-2 rounded w-full">
        <select name="sex" class="border p-2 rounded w-full" required>
          <option value="">-- Select Gender --</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Other">Other</option>
        </select>
        <input name="citizenship" type="text" placeholder="Citizenship No." class="border p-2 rounded w-full">
      </div>
    </section>

    <!-- Course Selection -->
    <section class="bg-white border border-red-200 rounded-lg p-6 shadow">
      <h3 class="text-xl font-bold text-red-600 mb-4">Course Applying For*</h3>
      <select name="course" class="border p-2 rounded w-full" required>
        <option value="">-- Select Course --</option>
        <option value="Nursing">Nursing</option>
        <option value="Pharmacy">Pharmacy</option>
        <option value="Paramedical">Paramedical</option>
        <option value="Allied Science">Allied Science</option>
        <option value="Physiotherapy">Physiotherapy</option>
      </select>
    </section>

    <!-- Academic Info -->
    <section class="bg-white border border-red-200 rounded-lg p-6 shadow">
      <h3 class="text-xl font-bold text-red-600 mb-4">Academic Information</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <input type="text" placeholder="Last Exam Passed*" class="border p-2 rounded w-full" required>
        <input type="text" placeholder="Board Name*" class="border p-2 rounded w-full" required>
        <input type="text" placeholder="Year of Passing*" class="border p-2 rounded w-full" required>
        <input type="text" placeholder="Registration No." class="border p-2 rounded w-full">
        <textarea placeholder="Name and address of last attended school" class="border p-2 rounded w-full"></textarea>
      </div>
    </section>

    <!-- Marks Section -->
    <section class="bg-white border border-red-200 rounded-lg p-6 shadow">
      <h3 class="text-xl font-semibold text-red-600 mb-4">Marks Scored in Class XII</h3>
      <div class="overflow-x-auto">
        <table class="min-w-full border border-red-500 text-sm text-left text-gray-700">
          <thead class="bg-red-600 text-white">
            <tr>
              <th class="border border-red-500 px-4 py-2">Subject</th>
              <th class="border border-red-500 px-4 py-2">Marks Scored</th>
            </tr>
          </thead>
          <tbody class="bg-white">
            <tr>
              <td class="border px-4 py-2">Language I</td>
              <td class="border px-4 py-2"><input type="number" name="lang1"
                  class="w-full p-1 border rounded marks-input" min="0" max="100" required></td>
            </tr>
            <tr>
              <td class="border px-4 py-2">Language II</td>
              <td class="border px-4 py-2"><input type="number" name="lang2"
                  class="w-full p-1 border rounded marks-input" min="0" max="100" required></td>
            </tr>
            <tr>
              <td class="border px-4 py-2">Chemistry</td>
              <td class="border px-4 py-2"><input type="number" name="chemistry"
                  class="w-full p-1 border rounded marks-input" min="0" max="100" required></td>
            </tr>
            <tr>
              <td class="border px-4 py-2">Mathematics</td>
              <td class="border px-4 py-2"><input type="number" name="maths"
                  class="w-full p-1 border rounded marks-input" min="0" max="100" required></td>
            </tr>
            <tr>
              <td class="border px-4 py-2">Biology</td>
              <td class="border px-4 py-2"><input type="number" name="biology"
                  class="w-full p-1 border rounded marks-input" min="0" max="100" required></td>
            </tr>
            <tr>
              <td class="border px-4 py-2">Physics</td>
              <td class="border px-4 py-2"><input type="number" name="physics"
                  class="w-full p-1 border rounded marks-input" min="0" max="100" required></td>
            </tr>
            <tr>
              <td class="border px-4 py-2 font-semibold">Total</td>
              <td class="border px-4 py-2"><input type="number" id="total" name="total"
                  class="w-full p-1 border rounded bg-gray-100" readonly required></td>
            </tr>
            <tr>
              <td class="border px-4 py-2 font-semibold">Percentage</td>
              <td class="border px-4 py-2"><input type="text" id="percentage" name="percentage"
                  class="w-full p-1 border rounded bg-gray-100" readonly required></td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Contact Information -->
    <section class="bg-white border border-red-200 rounded-lg p-6 shadow">
      <h3 class="text-xl font-bold text-red-600 mb-4">Student Contact Information</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <textarea placeholder="Permanent Address*" class="border p-2 rounded w-full" required></textarea>
        <textarea placeholder="Local Guardian Address" class="border p-2 rounded w-full"></textarea>
        <input type="tel" placeholder="Student Mobile*" class="border p-2 rounded w-full" required>
        <input type="text" placeholder="Relation with Student" class="border p-2 rounded w-full">
        <input type="tel" placeholder="Guardian Mobile" class="border p-2 rounded w-full">
      </div>
    </section>

    <!-- Documents -->
    <section class="bg-white border border-red-200 rounded-lg p-6 shadow">
      <h3 class="text-xl font-bold text-red-600 mb-4">Documents Required</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
        <label><input type="checkbox"> SSLC Marks Sheet / 'O' Level</label>
        <label><input type="checkbox"> II PUC / 10+2 / PDC Marks Sheet / 'A' Level</label>
        <label><input type="checkbox"> Transfer Certificate</label>
        <label><input type="checkbox"> Conduct Certificate</label>
        <label><input type="checkbox"> Migration Certificate</label>
        <label><input type="checkbox"> 4 Recent Passport Photos</label>
        <label><input type="checkbox"> Citizenship proof (Aadhar/Passport)</label>
        <label><input type="checkbox"> Student Passport Visa (Foreign)</label>
        <label><input type="checkbox"> Degree Certificates</label>
        <label><input type="checkbox"> Income & Caste Certificate</label>
        <label><input type="checkbox"> Diploma / Marksheets for Pc.B.Sc</label>
        <!-- <label><input type="file" multiple class="border p-2 rounded"> Upload Scanned Documents</label> -->
      </div>
    </section>

    <!-- Declaration -->
    <section class="bg-white border border-red-200 rounded-lg p-6 shadow">
      <h3 class="text-xl font-bold text-red-600 mb-4">Declaration</h3>
      <div class="space-y-2">
        <p class="text-sm italic">
          I / we pledge that all information provided is true. I / we agree to abide by the rules and agree not to claim
          fee refund in case of discontinuation.
          <br>* Antiragging affidavit has to be submitted before joining.
        </p>
        <label class="flex items-center space-x-2">
          <input type="checkbox" required>
          <span class="text-sm">I accept the above terms and declaration</span>
        </label>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
          <input type="text" placeholder="Place" class="border p-2 rounded" required>
          <input type="date" id="current-date" class="border p-2 rounded bg-gray-100 cursor-not-allowed" disabled>
          <input type="hidden" name="submission_date" id="hidden-date">
        </div>
        <div class="flex justify-between mt-6">
          <div class="text-center">
            <label class="block mb-1">Signature of Father / Guardian</label>
            <input type="text" name="guardian_signature" placeholder="Type name"
              class="border p-2 w-40 rounded text-center">
          </div>
          <div class="text-center">
            <label class="block mb-1">Signature of Student</label>
            <input type="text" name="student_signature" placeholder="Type name"
              class="border p-2 w-40 rounded text-center">
          </div>
        </div>
      </div>
    </section>

    <!-- Buttons -->
    <div class="flex justify-center gap-6 pt-4">
      <button type="submit" class="bg-red-600 hover:bg-red-700 text-white font-semibold px-6 py-2 rounded-md shadow">
        Submit
      </button>
      <button type="reset"
        class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold px-6 py-2 rounded-md shadow">
        Clear
      </button>
    </div>
    <!-- Footer -->
    <div class="text-center text-sm text-gray-600 mt-6">
      &copy; All rights reserved | Design and developed by <span class="font-semibold text-red-600">Nithin G</span>
    </div>

  </form>

  <!-- Success Message -->
  <div id="success-message"
    class="fixed top-1/3 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-green-500 text-white text-lg font-semibold px-6 py-4 rounded-lg shadow-lg opacity-0 z-50 pointer-events-none">
    Form submitted successfully!
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const today = new Date().toISOString().split('T')[0];
      document.getElementById("current-date").value = today;
      document.getElementById("hidden-date").value = today;

      anime({
        targets: '.fade-in',
        opacity: [0, 1],
        translateY: [20, 0],
        delay: anime.stagger(100),
        duration: 800,
        easing: 'easeOutQuad'
      });
    });

    const markInputs = document.querySelectorAll('.marks-input');
    const totalField = document.getElementById('total');
    const percentageField = document.getElementById('percentage');

    function calculateTotalAndPercentage() {
      let total = 0;
      let count = 0;

      markInputs.forEach(input => {
        const val = parseFloat(input.value);
        if (!isNaN(val)) {
          total += val;
          count++;
        }
      });

      const percentage = count > 0 ? (total / (count * 100)) * 100 : 0;
      totalField.value = total;
      percentageField.value = percentage.toFixed(2) + '%';
    }

    markInputs.forEach(input => {
      input.addEventListener('input', calculateTotalAndPercentage);
    });

    // async function handleFormSubmit(event) {
    //   event.preventDefault();

    //   const form = event.target;
    //   const formData = new FormData(form);
    //   const studentName = formData.get("student_name")?.trim();

    //   if (!studentName) {
    //     alert("Student name must be filled out");
    //     return false;
    //   }

    //   // Optionally append calculated total and percentage (read-only fields)
    //   formData.set("total", document.getElementById("total").value);
    //   formData.set("percentage", document.getElementById("percentage").value);

    //   try {
    //     const response = await fetch("https://your-api-url.com/api/submit-form/", {
    //       method: "POST",
    //       body: formData
    //       // No headers needed for multipart/form-data
    //     });

    //     if (!response.ok) throw new Error("Network response was not OK");

    //     // Show custom animated success message
    //     const successMsg = document.getElementById("success-message");
    //     successMsg.textContent = `Thanks for submitting the form, ${studentName}`;

    //     anime({
    //       targets: successMsg,
    //       opacity: [0, 1],
    //       duration: 500,
    //       easing: "easeOutQuad",
    //       complete: () => {
    //         setTimeout(() => {
    //           anime({
    //             targets: successMsg,
    //             opacity: [1, 0],
    //             duration: 500,
    //             easing: "easeInQuad"
    //           });
    //         }, 3000);
    //       }
    //     });

    //     alert(`Thanks for submitting the form, ${studentName}`);
    //     form.reset();
    //     document.getElementById("current-date").value = new Date().toISOString().split("T")[0];
    //     document.getElementById("hidden-date").value = new Date().toISOString().split("T")[0];

    //   } catch (error) {
    //     alert("There was an error submitting the form. Please try again.");
    //     console.error("Form submission error:", error);
    //   }

    //   return false;
    // }
    function handleFormSubmit(event) {
      event.preventDefault();

      const form = document.getElementById("applicationForm");
      const studentName = form["student_name"].value.trim();

      if (!studentName) {
        alert("Student name must be filled out");
        return false;
      }

      // Send form data using EmailJS
      emailjs.sendForm("service_mgowvio", "template_v3f15bl", form)
        .then(() => {
          const successMsg = document.getElementById('success-message');
          successMsg.textContent = `Thanks for submitting the form, ${studentName}`;

          anime({
            targets: successMsg,
            opacity: [0, 1],
            duration: 500,
            easing: 'easeOutQuad',
            complete: () => {
              setTimeout(() => {
                anime({
                  targets: successMsg,
                  opacity: [1, 0],
                  duration: 500,
                  easing: 'easeInQuad'
                });
              }, 3000);
            }
          });

          alert(`Thanks for submitting the form, ${studentName}`);
          form.reset();
        })
        .catch((error) => {
          console.error("Email sending failed:", error);
          alert("There was an error sending the form. Please try again.");
        });

      return false;
    }
  </script>

</body>

</html>